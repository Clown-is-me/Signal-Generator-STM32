# Цифровая симуляция аналоговых сигналов на STM32F103RB

Проект реализует систему генерации и визуализации аналоговых сигналов с использованием микроконтроллера STM32F103RB и Multi-function Shield.

## Обзор проекта

Проект демонстрирует возможности цифровой симуляции аналоговых сигналов с использованием ШИМ и математических вычислений. Система позволяет генерировать, модифицировать и комбинировать сигналы в реальном времени с визуализацией на семисегментном дисплее и веб-интерфейсе.

## Аппаратная часть

### Основные компоненты:
- **Микроконтроллер**: STM32F103RB
- **Плата расширения**: Multi-function Shield
- **Дисплей**: 4-разрядный семисегментный индикатор
- **Управление**: 3 тактовые кнопки (A1, A2, A3)
- **Связь**: UART для передачи данных на ПК

### Подключение Multi-function Shield:
- **Дисплей**: SPI через сдвиговые регистры 74HC595
- **Кнопки**: GPIO с внешними прерываниями
- **Таймеры**: TIM2 для генерации сигналов

## Функциональность

### Генерация сигналов:
- **Основной сигнал**: Синусоида с периодом 2 секунды
- **Диапазон амплитуды**: [-1; 1] в базовом режиме
- **Частота обновления**: 100 Гц (таймер TIM2)

### Управление амплитудой:
- **Базовый уровень**: 1 (диапазон [-1; 1])
- **Максимальный уровень**: 3 (диапазон [-3; 3])
- **Циклическое изменение**: 1 → 2 → 3 → 1

### Полифонические возможности:
- **Основной сигнал**: Детерминированная синусоида
- **Случайный сигнал**: Псевдослучайная синусоида с переменными параметрами
- **Комбинация**: Аддитивное смешение сигналов

## Управление

### Кнопка A1 (LEFT_BUTTON):
- **Одиночное нажатие**: Запуск/остановка генерации сигнала
- **Индикация**: Дисплей показывает текущее значение сигнала
- **Состояние**: Переключатель между режимами работы

### Кнопка A2 (MIDDLE_BUTTON):
- **Одиночное нажатие**: Увеличение амплитуды на 1
- **Цикличность**: 1 → 2 → 3 → 1
- **Визуализация**: Изменение масштаба отображаемого сигнала

### Кнопка A3 (RIGHT_BUTTON):
- **Одиночное нажатие**: Добавление/удаление случайного сигнала
- **Полифония**: Комбинация с основным сигналом
- **Параметры**: Случайная частота (0.5-2.0 Гц), амплитуда (0-3)

## Визуализация

### Локальная (на устройстве):
- **4-сегментный дисплей**: Отображение текущего значения сигнала
- **Формат**: Числа с плавающей точкой (-9.99 до +9.99)
- **Обновление**: 100 раз в секунду

### Удаленная (веб-интерфейс):
- **Реальное время**: Графики обновляются в реальном времени
- **Мультиграфики**: 4 независимых графика сигналов
- **Цветовое кодирование**: Разные типы сигналов
- **Журнал событий**: Логирование всех операций системы
